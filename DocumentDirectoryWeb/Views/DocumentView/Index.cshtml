@model List<DocumentForUser>

@{
    ViewData["Title"] = "Home Page";
    var urlPdf = Url.Action("DisplayPdf", "Home");
}

<h1>@ViewData["Title"]</h1>

<table class="table table-striped table-hover">
    <thead>
    <tr>
        <th>Название документа</th>
        <th>Ознакомлен</th>
        <th>Дата ознакомления</th>
        <th>Действия</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var document in Model)
    {
        <tr>
            <td class="align-middle">@document.Name</td>
            <td class="align-middle">@(document.IsReviewed ? "Да" : "Нет")</td>
            <td class="align-middle">@(document.ReviewDate.HasValue ? document.ReviewDate.Value.ToShortDateString() : "")</td>
            <td class="align-middle">
                <button class="btn btn-primary" onclick="openDocument('@urlPdf' + '?fileId=' + '@document.Id')">
                    Просмотр
                </button>
            </td>
        </tr>
    }
    </tbody>
</table>

<div class="modal fade" id="pdf-modal" tabindex="-1" aria-labelledby="pdfModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl" style="height: 90vh;">
        <div class="modal-content" style="height: 100%;">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="pdfModalLabel">Просмотр документа</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <iframe id="pdf-iframe" src="" style="width: 100%; height: 100%;"></iframe>
            </div>
            <div class="modal-footer">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="agreement-checkbox">
                    <label class="form-check-label" for="agreement-checkbox">Я ознакомился с документом&nbsp;</label>
                </div>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                <button type="button" class="btn btn-primary">Сохранить</button>
            </div>
        </div>
    </div>
</div>